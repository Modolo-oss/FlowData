version: "3.9"
services:
  coordinator:
    build:
      context: ./backend
    environment:
      - COORDINATOR_PORT=3002
      - MAX_UPLOAD_MB=200
      - SUI_NETWORK=${SUI_NETWORK:-testnet}
      - OPENROUTER_API_KEY=${OPENROUTER_API_KEY}
      - OPENROUTER_MODEL=${OPENROUTER_MODEL}
    ports:
      - "3002:3002"
    command: ["node","dist/coordinator/server.js"]
  frontend:
    build:
      context: ./frontend
    ports:
      - "3000:3000"
    environment:
      - NEXT_PUBLIC_API_URL=http://localhost:3002
    depends_on:
      - coordinator

